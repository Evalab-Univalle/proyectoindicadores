# language: es
# encoding: utf-8
# Archivo: CapturarErroresEnSSARA.feature
# Autor: Ángel García Baños
# Email:  angarciaba@gmail.com
# Fecha creación: 2014-09-01
# Fecha última modificación: 2014-09-01
# Versión: 0.1
# Licencia: GPL

Característica: Posibles errores que se deben detectar en SSARA cuando se compara con el archivo de Programación de Asignaturas (hoja de cálculo rellenada manualmente por los profesores y bajada de Google Drive)

  Antecedentes: Crear un archivo HTML que simule haber sido bajado de SSARA (la carga de un profesor) con unos cuantos casos típicos, modificándola para inducir errores y verificando que se detecten. Y crear hoja de cálculo de Google Drive con la cabecera y tres asignaturas típicas. Y borrar los archivos de logs
    Dado que se crean archivos de logs vacíos 'Errores'
    Y se construye un archivo de carga 'Programada' que simula proceder de SSARA para el profesor 'Ringo'
    Y se construye un archivo '_Necesidades_ - Hoja 1.tsv'
    Y en la fila 1 he escrito 'ASIGNATURA	HORARIO SOLICITADO	CUPOS solicitados por cada programa	GRUPO o FRANJA	CUPOS solicitados en cada GRUPO o FRANJA	Cupos matriculados	Num. PROFESORES REQUERIDOS	Grupo procedente de franja	331-Sala 5	Cupos	Grupo procedente de franja	331-Sala 2	Cupos	Grupo procedente de franja	331-Sala 3	Cupos	Grupo procedente de franja	331-Sala 1	Cupos	Grupo procedente de franja	331-2026	Cupos	Grupo procedente de franja	331-2027	Cupos	Grupo procedente de franja	331-2075	Cupos	Grupo procedente de franja	No necesita aula	Cupos	Grupo procedente de franja	Aulas externas	Cupos'
    Y en la fila 2 he escrito '									56			50			25			20			55			55			36			60			150'
    Y en la fila 3 he escrito '750001M -> ALGORITMIA Y PROGRAMACIÓN, Cred. 3'
    Y en la fila 4 he escrito '2710-00-NOC -> TECNOLOGÍA ELECTRÓNICA	LUN -> 18:30-21:30	47	F04a	67		3				1	Paul McCartney	24	2	Alan Turing	23	3	George Harrison	20'
    Y en la fila 5 he escrito '3469-00-DIU -> LICENCIATURA EN EDUCACIÓN BÁSICA CON ÉNFASIS EN MATEMÁTICAS	VIE -> 10:00-13:00	3	F05a	13		1	4	Richard Dawkins	13'
    Y en la fila 6 he escrito '3556-00-DIU -> LICENCIATURA EN ARTES VISUALES	LUN -> 14:00-17:00	2	F03a	132		4	5	John Lennon	44	6	Paul McCartney	43	7	George Harrison	25	8	Ringo Starr	20'
    Y en la fila 7 he escrito '3740-00-DIU -> INGENIERIA TOPOGRAFICA	LUN -> 7:00-10:00	80	F01a	150		4	9	Richard Dawkins	55	10	John von Neumann	50	11	Richard Feynmann	25	12	George Harrison	20'
    Y en la fila 8 he escrito '3741-00-DIU -> INGENIERIA DE MATERIALES	LUN -> 14:00-17:00	50	F03a'
    Y en la fila 9 he escrito '3744-00-DIU -> INGENIERIA ELECTRONICA	LUN -> 10:00-13:00	30	F02a	150		4	13	Niels Bohr	55	14	John Lennon	50	15	Paul Dirac	25	16	Douglas Hofstadter	20'
    Y en la fila 10 he escrito '3745-00-DIU -> INGENIERIA AGRICOLA	LUN -> 10:00-13:00	45	F02a'
    Y en la fila 11 he escrito '3746-00-DIU -> INGENIERIA ELECTRICA	LUN -> 10:00-13:00	20	F02a'
    Y en la fila 12 he escrito '3747-00-DIU -> INGENIERIA CIVIL	LUN -> 7:00-10:00	50	F01a'
    Y en la fila 13 he escrito '3748-00-DIU -> INGENIERIA MECANICA	LUN -> 14:00-17:00	55	F03a'
    Y en la fila 14 he escrito '3749-00-DIU -> INGENIERIA QUIMICA	LUN -> 10:00-13:00	55	F02a'
    Y en la fila 15 he escrito '3751-00-DIU -> INGENIERIA INDUSTRIAL	LUN -> 14:00-17:00	25	F03a'
    Y en la fila 16 he escrito '3751-00-DIU -> INGENIERIA INDUSTRIAL	LUN -> 18:30-21:30	20	F04a'
    Y en la fila 17 he escrito '3752-00-DIU -> ESTADISTICA	MIE -> 7:00-10:00	90	F07a	90		2	17	John Lennon	45	18	George Harrison	45'
    Y en la fila 18 he escrito '3753-00-DIU -> INGENIERIA DE ALIMENTOS	LUN -> 7:00-10:00	20	F01a'
    Y en la fila 19 he escrito '3753-00-DIU -> INGENIERIA DE ALIMENTOS	SAB -> 8:00-11:00	16	F06a	16		1							19	Leonard Susskind	16'
    Y en la fila 20 he escrito '3754-00-DIU -> INGENIERIA SANITARIA Y AMBIENTAL	VIE -> 10:00-13:00	10	F05a'
    Y en la fila 21 he escrito ''
    Y en la fila 22 he escrito '750030M -> BASES DE DATOS I, Cred. 4'
    Y en la fila 23 he escrito '2711-00-NOC -> TECNOLOGÍA EN SISTEMAS DE INFORMACIÓN	MAR -> 18:00-21:00, SAB -> 14:00-15:00	20	80	20		1																80	Carlos Santana	20'
    Y en la fila 24 he escrito '3743-00-DIU -> INGENIERIA DE SISTEMAS	MAR -> 10:00-13:00 VIE -> 9:00-10:00	50	1	50		1					Ringo Starr (VIE -> 9:00-10:00,25%)	50											Ringo Starr (MAR -> 10:00-13:00,75%)	50'
    Y en la fila 25 he escrito ''
    Y en la fila 26 he escrito '750067M -> PROGRAMACIÓN CON RESTRICCIONES (E), Cred. 3'
    Y en la fila 27 he escrito '3743-00-DIU -> INGENIERIA DE SISTEMAS	JUE -> 15:00-18:00	30	1	30		1																				Leonid Afremov (50%), Van Gogh (50%)	30'
    Y en la fila 28 he escrito ''
    Y en la fila 29 he escrito '750082M -> INTRODUCCIÓN A LA TECNOLOGÍA INFORMÁTICA, Cred. 2'
    Y en la fila 30 he escrito '2710-00-NOC -> TECNOLOGÍA ELECTRÓNICA	JUE -> 18:00-20:00	90	F06b	90		3	1	Niels Bohr	40	2	George Harrison	30	3	Paul McCartney	20'
    Y en la fila 31 he escrito ''

@exito
  Escenario: Todo está bien especificado y no hay errores
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' no debe tener errores
    Y el archivo de logs 'TODO' no debe tener errores
    Y el archivo de logs 'TODO' debe incluir 'Se pueden asignar ??? horas/semana de monitoría al profesor Ringo en la asignatura 750030M -> BASES DE DATOS I grupo 01'
    
  Escenario: 
    Dado que al profesor le añado la asignatura '750076M,COMPUTACION EVOLUTIVA,02,3,25,100,false'
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' debe incluir 'No se va a dictar la asignatura: 750076M -> COMPUTACION EVOLUTIVA grupo 02'

  Escenario: 
    Dado que al profesor le añado la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F99a,3,20,100,false'
    Y que en al profesor le borro la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,100,false'
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' debe incluir 'Está mal el grupo F99a de la asignatura 750001M -> ALGORITMIA Y PROGRAMACIÓN'

  Escenario: 
    Dado que al profesor le añado la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,70,false'
    Y que en al profesor le borro la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,100,false'
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' debe incluir 'No es correcto el porcentaje de 70 en la asignatura 750001M -> ALGORITMIA Y PROGRAMACIÓN grupo F03a. Debería ser 100'

  Escenario: 
    Dado que al profesor le añado la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,100,true'
    Y que en al profesor le borro la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,100,false'
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' debe incluir 'La asignatura 750001M -> ALGORITMIA Y PROGRAMACIÓN grupo F03a NO está bonificada'

  Escenario: 
    Dado que al profesor le añado la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,5,20,100,false'
    Y que en al profesor le borro la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,100,false'
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' debe incluir 'No son correctos los créditos de la asignatura 750001M -> ALGORITMIA Y PROGRAMACIÓN grupo F03a. Dice 5 pero deberían ser 3'

  Escenario:
    Dado que al profesor le añado la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,44,100,false'
    Y que en al profesor le borro la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,100,false'
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' debe incluir 'El número de horas asignado para la asignatura 750001M -> ALGORITMIA Y PROGRAMACIÓN grupo F03a no debería ser ??? sino ???'

  Escenario:
    Dado que al profesor le añado la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,5,100,false'
    Y que en al profesor le borro la asignatura '750001M,ALGORITMIA Y PROGRAMACIÓN,F03a,3,20,100,false'
    Cuando se verifica el archivo de SSARA del profesor
    Entonces el archivo de logs 'SSARA' debe incluir 'El número de horas asignado para la asignatura 750001M -> ALGORITMIA Y PROGRAMACIÓN grupo F03a no debería ser ??? sino ??? (y el curso es DIRIGIDO)'

# Liliana
# ======================
# - : Está mal el grupo 2 de la asignatura: 750001M -> ALGORITMIA Y PROGRAMACION
# parece ser que no es lo mismo 2 que 02. CORREGIRLO!!!!??????????


# MauricioGaona
# ======================
# - : No se va a dictar la asignatura: 750044 -> METODOS AVANZADOS EN DESARROLLO DE SOFTWARE I grupo 01
#  ok. Pero FALTA las asignaturas que si va a dictar:?????????. En este caso:
# - Falta por programar la asignatura 750053 -> MÉTODOS AVANZADOS DE DESARROLLO DE SOFTWARE II grupo 01

# ERRORES ERRONEOS: ???????????????
# Raul
# ======================
# - : No es correcto el porcentaje de 0.0 en la asignatura 750057M -> PRACTICA PROFESIONAL grupo 01. Debería ser 100
# - : El número de horas asignado para la asignatura 750057M -> PRACTICA PROFESIONAL grupo 01 no debería ser 0 sino 378 
# - : No es correcto el porcentaje de 0.0 en la asignatura 750059M -> PRACTICA INVESTIGACION II grupo 01. Debería ser 100
# - : No es correcto el porcentaje de 100.0 en la asignatura 750086M -> ANALISIS METODOS NUMERICOS grupo 01. Debería ser 200
# - : El número de horas asignado para la asignatura 750086M -> ANALISIS METODOS NUMERICOS grupo 01 no debería ser 324 sino 648 






